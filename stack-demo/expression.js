"use strict";function MyExpression(){}MyExpression.symbols=["+","-","*","/","(",")","#"],MyExpression.preceds=function(){for(var s=MyExpression.symbols.length,e=Array(Math.pow(s,2)),r=0;s>r;r++)for(var o=MyExpression.symbols[r],n=0;s>n;n++){var p=MyExpression.symbols[n],t=void 0;"#"===o?"#"===p?t=0:")"!==p&&(t=-1):"#"===p?"("!==o&&(t=1):"+"===o||"-"===o?t="+"===p||"-"===p||")"===p?1:-1:"*"===o||"/"===o?t="("===p?-1:1:"("===o?t=")"===p?0:-1:")"===o&&"("!==p&&(t=1),e[r*s+n]=t}return e}(),MyExpression.getPreceds=function(s,e){var r=this.symbols.indexOf(s),o=this.symbols.indexOf(e);if(r>=0&&o>=0){var n=r*this.symbols.length+o,p=this.preceds[n];if(void 0===p)throw new Error("出错");return p}throw new Error("出错")},MyExpression.prototype={constructor:MyExpression,getValue:function(s){var e,r=["#"],o=[],n="";s+="#";for(var p in s)if(e=s[p],MyExpression.symbols.indexOf(e)>-1){var t=r[r.length-1],i=MyExpression.getPreceds(t,e);if(-1===i)r.push(e),""!==n&&(o.push(n),n="");else if(0===i)r.pop(),""!==n&&(o.push(n),n="");else{for(;1===MyExpression.getPreceds(r[r.length-1],e);)""===n&&(n=o.pop()),t=r.pop(),o.push(this.operate(o.pop(),n,t)),n="";0===MyExpression.getPreceds(r[r.length-1],e)?r.pop():r.push(e)}}else" "===e?""!==n&&(o.push(n),n=""):n+=e;if(0===r.length&&1===o.length)return o.pop();throw new Error("出错了")},operate:function(s,e,r){return"+"===r?+s+ +e:"-"===r?s-e:"*"===r?s*e:"/"===r?s/e:void 0}};