"use strict";function Gobang(t){this.draw=t.draw,this.n=15,this.success=t.success,this.init=t.init}Gobang.prototype={constructor:Gobang,genBoards:function(){this.count=this.n*this.n,this.boards=Array(this.count)},start:function(){this.turn=0,this.nums=0,this.current=void 0,this.last=void 0,this.isStart=!0,this.init(),this.genBoards(),this.draw()},stop:function(){this.isStart=!1},restart:function(){this.stop(),this.start()},click:function(t){this.boards[t]||(this.last=this.current,this.current=t,this.nums++,this.boards[t]=0===this.turn?1:2,0===this.turn?this.turn=1:this.turn=0,this.draw(),this.nums>=9&&this.calc(t))},calc:function(t){for(var s=0,i=0;4>i;)if(s=this.next(t,i)+this.next(t,i+4),i++,s>=6){this.success(),this.stop();break}},next:function(t,s){var i,n=parseInt(t/this.n),h=t%this.n,r=1===this.turn?1:2;return 0===s?0!==n&&h!==this.n-1&&(i=t-this.n+1):1===s?h!==this.n-1&&(i=t+1):2===s?n!==this.n-1&&h!==this.n-1&&(i=t+this.n+1):3===s?n!==this.n-1&&(i=t+this.n):4===s?n!==this.n-1&&0!==h&&(i=t+this.n-1):5===s?0!==h&&(i=t-1):6===s?0!==h&&0!==n&&(i=t-this.n-1):7===s&&0!==n&&(i=t-this.n),void 0!==i&&(t=this.boards[i],t===r)?1+this.next(i,s):1}};