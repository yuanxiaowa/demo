<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="chrome=1"><title>扫雷</title><style>.container{list-style:none;padding:0;width:401px;border-top:1px solid;border-left:1px solid;margin:0 auto;overflow:auto;position:relative;text-align:center}.item{float:left;width:49px;height:49px;line-height:49px;border-right:1px solid #000;border-bottom:1px solid #000;background:#aaa}.signed{background:green}.clicked{background:#fff}.mine{background:red;-webkit-animation:a .5s infinite;animation:a .5s infinite;color:#fff}@-webkit-keyframes a{50%{background:#fff}to{background:red}}@keyframes a{50%{background:#fff}to{background:red}}</style></head><body><div class=container><div id=sweeping></div><div><div id=remain>0</div></div><button id=restart>重新开始</button></div><script src=//cdn.bootcss.com/jquery/2.1.4/jquery.js></script><script src=sweeping.js></script><script>"use strict";function getItems(e){for(var i=[],t=0,n=e;n>t;t++)i.push('<div class="item"></div>');return $(i.join(""))}var $sweeping=$("#sweeping"),count=64,$items=$(getItems(count)),$remain=$("#remain"),sweeping=new Sweeping({init:function(){for(var e=0;count>e;e++)$items.text(""),$items[e].className="item",$remain.text(10)},draw:function(){for(var e=0;count>e;e++){var i=this.boards[e],t=$items.eq(e);!i.clicked&&this.isStart||(i.isMine?t.addClass("mine").text("*"):(t.addClass("clicked"),i.num&&t.text(i.num))),$remain.text(10-sweeping.marked)}}});sweeping.start(),$items.appendTo($sweeping),$sweeping.on("click",".item",function(){if(sweeping.isStart){var e=$(this).index(),i=sweeping.boards[e];i.clicked||sweeping.click(e)}}).on("contextmenu",".item",function(e){if(e.preventDefault(),sweeping.isStart&&sweeping.marked<10){var i=$(this),t=i.index(),n=sweeping.boards[t];n.clicked||(n.signed?i.removeClass("signed"):i.addClass("signed"),sweeping.sign(t),$remain.text(10-sweeping.marked))}}),$("#restart").click(function(){sweeping.restart()});</script></body></html>