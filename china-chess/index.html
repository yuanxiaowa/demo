<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="chrome=1"><title>中国象棋</title><style>.bottom,.grid-container{border-top:1px solid #999}.boundary,.grid{border-right:1px solid #999}.container{margin:40px auto;width:641px;position:relative}.grid-container{border-left:1px solid #999}.bottom,.top{overflow:auto;position:relative}.bottom:after,.bottom:before,.top:after,.top:before{content:'';position:absolute;width:226px;height:1px;left:207px;background:#999}.top:after,.top:before{top:80px}.bottom:after,.bottom:before{bottom:80px}.bottom:before,.top:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.bottom:after,.top:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.grid{float:left;width:79px;height:79px;border-bottom:1px solid #999}.boundary{height:80px;line-height:80px;text-align:center;font-family:微软雅黑;font-size:40px}.boundary div{float:left;width:50%}.grid-href{position:absolute;left:-25px;top:-25px;width:691px}.grid-href div{float:left;width:50px;height:50px;margin-right:30px;margin-bottom:30px;border-radius:50%;cursor:pointer}.grid-href div:nth-child(9n){margin-right:0}.chess-container div{position:absolute;width:48px;line-height:48px;border:1px solid;text-align:center;border-radius:50%;background:#fff;-webkit-transition:.3s;transition:.3s}.red{color:red}.black{color:#000}.current{outline:#00f solid 1px}.hide{display:none}#restart{margin-top:30px;position:relative;z-index:1}</style></head><body><div class=container><div class=grid-container><div class=top></div><div class=boundary><div>楚河</div><div>汉界</div></div><div class=bottom></div></div><div class=grid-href></div><div class=chess-container></div><button id=restart>重新开始</button></div><script src=//cdn.bootcss.com/jquery/2.1.4/jquery.js></script><script src=china-chess.js></script><script>"use strict";function getChesses(){for(var s="",e=0;32>e;e++)s+="<div></div>";return s}function getGrids(){for(var s="",e=0;32>e;e++)s+='<div class="grid"></div>';$(".top").append(s),$(".bottom").append(s)}function getHref(){for(var s="",e=0;90>e;e++)s+="<div></div>";$gridHref.append(s)}var $chessContainer=$(".chess-container"),$gridHref=$(".grid-href"),$items=$(getChesses()).appendTo($chessContainer);getGrids(),getHref(),$(document).on("selectstart",function(){return!1}),$chessContainer.on("click","div",function(){if(chess.isStart){var s=$(this),e=chess.click(s.index());e||console.log("移动失败")}}),$gridHref.on("click","div",function(){if(chess.isStart){var s=chess.move($(this).index());s||console.log("移动失败")}}),$("#restart").click(function(){chess.restart()});var chess=new ChinaChess({init:function(){for(var s=0;s<this.boards.length;s++){var e=this.boards[s],t=$items.eq(s);t[0].className=1===e.owner?"black":"red"}},draw:function(){for(var s=0;s<this.boards.length;s++){var e=this.boards[s],t=$items.eq(s);t.text(e.name).css({top:80*parseInt(e.pos/9)-25,left:e.pos%9*80-25}),this.current===s?t.addClass("current"):t.removeClass("current"),e.disabled?t.addClass("hide"):t.removeClass("hide")}},success:function(){0===this.turn?alert("黑方胜利"):alert("红方胜利")}});chess.start();</script></body></html>